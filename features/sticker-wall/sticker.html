<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sticker Wall ğŸ‰</title>
  <link rel="stylesheet" href="sticker.css" />
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <a href="../../index.html" class="back-button">ğŸ”™ Back to Menu</a>

  <audio id="bgMusic" src="../../assets/audio/bg-music.mp3" autoplay loop muted></audio>
  <audio id="uploadSound" src="../../assets/audio/click.wav" preload="auto"></audio>
  <audio id="frameSound" src="../../assets/audio/win.mp3" preload="auto"></audio>
  <div id="floatingHearts"></div>

  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <h1 class="title">ğŸ¨ Creative Wall</h1>
      <p class="subtitle">Upload, decorate, and share your memories!</p>
    </header>

    <!-- Main Workspace -->
    <div class="workspace">
      <!-- Left Panel - Tools -->
      <div class="tools-panel">
        <div class="tool-section">
          <h3>ğŸ“· Upload Photo</h3>
          <label for="photoInput" class="upload-btn">
            <span class="upload-icon">ğŸ“·</span>
            <span class="upload-text">Choose Photo</span>
          </label>
          <input type="file" id="photoInput" accept="image/*" hidden />
        </div>

        <div class="tool-section">
          <h3>ğŸ¨ Decoration Tools</h3>
          <div class="tool-buttons">
            <button class="tool-btn" data-tool="text">ğŸ“ Text</button>
            <button class="tool-btn" data-tool="draw">âœï¸ Draw</button>
            <button class="tool-btn" data-tool="sticker">ğŸ¯ Stickers</button>
            <button class="tool-btn" data-tool="filter">ğŸŒˆ Filters</button>
          </div>
        </div>

        <div class="tool-section">
          <h3>ğŸ–¼ï¸ Photo Frames</h3>
          <div class="frame-grid">
            <div class="frame-option" data-frame="none">
              <div class="frame-preview no-frame">ğŸ“·</div>
              <span>No Frame</span>
            </div>
            <div class="frame-option" data-frame="hearts">
              <div class="frame-preview hearts-frame">ğŸ’–</div>
              <span>Hearts</span>
            </div>
            <div class="frame-option" data-frame="flowers">
              <div class="frame-preview flowers-frame">ğŸŒ¸</div>
              <span>Flowers</span>
            </div>
            <div class="frame-option" data-frame="stars">
              <div class="frame-preview stars-frame">â­</div>
              <span>Stars</span>
            </div>
            <div class="frame-option" data-frame="vintage">
              <div class="frame-preview vintage-frame">ğŸ“·</div>
              <span>Vintage</span>
            </div>
            <div class="frame-option" data-frame="polaroid">
              <div class="frame-preview polaroid-frame">ğŸ“·</div>
              <span>Polaroid</span>
            </div>
          </div>
        </div>

        <div class="tool-section">
          <h3>ğŸ¯ Stickers & Emojis</h3>
          <div class="sticker-grid">
            <div class="sticker-item" draggable="true">ğŸ’–</div>
            <div class="sticker-item" draggable="true">ğŸŒ¸</div>
            <div class="sticker-item" draggable="true">ğŸ°</div>
            <div class="sticker-item" draggable="true">ğŸ§‹</div>
            <div class="sticker-item" draggable="true">ğŸ€</div>
            <div class="sticker-item" draggable="true">âœ¨</div>
            <div class="sticker-item" draggable="true">ğŸ’•</div>
            <div class="sticker-item" draggable="true">ğŸŒ¹</div>
            <div class="sticker-item" draggable="true">ğŸ€</div>
            <div class="sticker-item" draggable="true">ğŸˆ</div>
            <div class="sticker-item" draggable="true">ğŸ</div>
            <div class="sticker-item" draggable="true">ğŸ’</div>
          </div>
        </div>

        <div class="tool-section">
          <h3>ğŸ¨ Colors</h3>
          <div class="color-palette">
            <div class="color-option" data-color="#ff6b9d" style="background: #ff6b9d;"></div>
            <div class="color-option" data-color="#ffb3d9" style="background: #ffb3d9;"></div>
            <div class="color-option" data-color="#ffd700" style="background: #ffd700;"></div>
            <div class="color-option" data-color="#98fb98" style="background: #98fb98;"></div>
            <div class="color-option" data-color="#87ceeb" style="background: #87ceeb;"></div>
            <div class="color-option" data-color="#dda0dd" style="background: #dda0dd;"></div>
            <div class="color-option" data-color="#f0e68c" style="background: #f0e68c;"></div>
            <div class="color-option" data-color="#ffa07a" style="background: #ffa07a;"></div>
          </div>
        </div>
      </div>

      <!-- Center - Canvas -->
      <div class="canvas-container">
        <div class="canvas-header">
          <button id="saveBtn" class="action-btn save-btn">ğŸ’¾ Save</button>
          <button id="clearBtn" class="action-btn clear-btn">ğŸ—‘ï¸ Clear</button>
          <button id="shareBtn" class="action-btn share-btn">ğŸ“¤ Share</button>
        </div>
        
        <div id="canvas" class="canvas">
          <div class="canvas-placeholder">
            <div class="placeholder-icon">ğŸ“·</div>
            <p>Upload a photo to start creating!</p>
          </div>
        </div>
      </div>

      <!-- Right Panel - Wall Preview -->
      <div class="wall-panel">
        <h3>ğŸŒŸ Shared Wall</h3>
        <div class="wall-stats">
          <span id="wallCount">0</span> creations shared
        </div>
        <div id="wallPreview" class="wall-preview">
          <div class="wall-placeholder">
            <div class="placeholder-icon">ğŸŒŸ</div>
            <p>Be the first to share!</p>
          </div>
        </div>
        <button id="viewWallBtn" class="view-wall-btn">ğŸ‘€ View Full Wall</button>
      </div>
    </div>
  </div>

  <!-- Full Wall Modal -->
  <div id="wallModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸŒŸ Shared Creative Wall</h2>
        <button class="close-btn" id="closeModal">âœ•</button>
      </div>
      <div id="fullWall" class="full-wall">
        <!-- Infinite scroll wall content will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Text Tool Modal -->
  <div id="textModal" class="modal">
    <div class="modal-content text-modal">
      <div class="modal-header">
        <h3>ğŸ“ Add Text</h3>
        <button class="close-btn" id="closeTextModal">âœ•</button>
      </div>
      <div class="text-input-container">
        <input type="text" id="textInput" placeholder="Enter your text..." maxlength="50">
        <div class="text-options">
          <input type="color" id="textColor" value="#ff6b9d">
          <select id="textSize">
            <option value="16">Small</option>
            <option value="24" selected>Medium</option>
            <option value="32">Large</option>
            <option value="48">Extra Large</option>
          </select>
        </div>
        <button id="addTextBtn" class="add-text-btn">Add Text</button>
      </div>
    </div>
  </div>

  <script type="module" src="sticker.js"></script>
  <script>
    // ğŸ¶ Tap to play music
    document.body.addEventListener('click', () => {
      const music = document.getElementById("bgMusic");
      if (music && music.paused) {
        music.muted = false;
        music.play().catch(() => {});
      }
    }, { once: true });

    // ğŸ’– Floating hearts
    for (let i = 0; i < 30; i++) {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.style.left = Math.random() * 100 + "%";
      heart.style.animationDelay = Math.random() * 5 + "s";
      document.getElementById("floatingHearts").appendChild(heart);
    }
  </script>
</body>
</html>
